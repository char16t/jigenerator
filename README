Version 3.0

program := (rule)* (termdef)*

rule    := NONTERM EQ expr
expr    := (expr2)* (LINE expr)*
expr2   := expr3 | STAR LPAREN expr3 (expr)* RPAREN
expr3   := atom | LPAREN expr RPAREN
atom    := NONTERM | TERM

termdef     := TERM EQ termexpr
termexpr    := (termexpr2)* (LINE termexpr)*
termexpr2   := termexpr3 | STAR LPAREN termexpr3 (termexpr)* RPAREN
termexpr3   := termatom | LPAREN termexpr RPAREN
termatom    := SQ <any symbols except single quote> SQ

SQ  := '\''
